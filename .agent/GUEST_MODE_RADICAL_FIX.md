# ๐ง ุงูุฅุตูุงุญ ุงูุฌุฐุฑู ููุถุน ุงูุถูู

## ๐ ุงููุดุงูู ุงูุชู ุชู ุงูุชุดุงููุง

### 1. **ุงูุถูู ูุฑู ุฑุณุงูุฉ "Gender mismatch"** โ
**ุงูุณุจุจ:** 
- `InvitationContext` ูุงู ูุนุทู ุงูุถูู `age: 25` ู `gender: 'male'`
- `InvitationCard` ูุงู ููุญุต ุฃูููุฉ ุงูุถูู ูุซู ุงููุณุชุฎุฏู ุงูุนุงุฏู

**ุงููุชูุฌุฉ:** ุงูุถูู ูุฑู ุฑุณุงุฆู ุฎุงุทุฆุฉ ุนู ุนุฏู ุงูุชูุงูู

---

## โ ุงูุญููู ุงูููุทุจูุฉ

### 1. InvitationContext.jsx - ุฅุฒุงูุฉ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ

#### ูุจู:
```javascript
// Guest user fallback
return {
    id: 'guest',
    name: 'Guest',
    avatar: 'https://via.placeholder.com/150',
    accountType: 'user',
    userRole: 'user',
    age: 25,        // โ ุฎุทุฃ!
    gender: 'male'  // โ ุฎุทุฃ!
};
```

#### ุจุนุฏ:
```javascript
// Guest user fallback - NO personal data
return {
    id: 'guest',
    name: 'Guest',
    avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=guest&backgroundColor=b6e3f4',
    accountType: 'guest',
    userRole: 'guest',
    age: null,      // โ ูุง ุจูุงูุงุช ุดุฎุตูุฉ
    gender: null    // โ ูุง ุจูุงูุงุช ุดุฎุตูุฉ
};
```

---

### 2. InvitationCard.jsx - ุชุฎุทู ูุญุต ุงูุฃูููุฉ ููุถูู

#### ูุจู:
```javascript
const checkEligibility = () => {
    // ููุญุต ุงูุฌูุณ ูุงูุนูุฑ ููุฌููุน ุจูุง ูููู ุงูุถูู โ
    if (genderPreference && currentUser.gender !== genderPreference) {
        return { eligible: false, reason: t('gender_mismatch') };
    }
    // ...
};
```

#### ุจุนุฏ:
```javascript
const checkEligibility = () => {
    // ุชุฎุทู ุงููุญุต ููุถููู โ
    if (isGuest) {
        return { eligible: true, isGuest: true };
    }
    
    // ูุญุต ุงูุฃูููุฉ ูููุณุชุฎุฏููู ุงููุณุฌููู ููุท
    if (genderPreference && currentUser.gender !== genderPreference) {
        return { eligible: false, reason: t('gender_mismatch') };
    }
    // ...
};
```

---

### 3. InvitationCard.jsx - ุฒุฑ ูุฎุตุต ููุถูู

#### ูุจู:
```javascript
<button>
    {!eligibility.eligible ? eligibility.reason : t('join_btn')}
    // ุงูุถูู ูุฑู "Gender mismatch" โ
</button>
```

#### ุจุนุฏ:
```javascript
<button
    style={{
        background: isGuest 
            ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' 
            : 'white',
        color: isGuest ? 'white' : 'black'
    }}
>
    {isGuest ? (
        <>
            <span>๐</span>
            {t('login_to_join')}
        </>
    ) : (
        !eligibility.eligible ? eligibility.reason : t('join_btn')
    )}
</button>
```

---

## ๐ ููุฎุต ุงูุชุนุฏููุงุช

### ูููุงุช ููุนุฏููุฉ:

1. **InvitationContext.jsx** โ
   - ุฅุฒุงูุฉ `age` ู `gender` ูู ุจุฑููุงูู ุงูุถูู
   - ุชุบููุฑ `accountType` ูู `'user'` ุฅูู `'guest'`
   - ุชุบููุฑ `userRole` ูู `'user'` ุฅูู `'guest'`
   - ุชุญุฏูุซ ุตูุฑุฉ ุงูุจุฑููุงูู

2. **InvitationCard.jsx** โ
   - ุชุฎุทู ูุญุต ุงูุฃูููุฉ ููุถููู
   - ุฒุฑ ูุฎุตุต ููุถูู ุจุชุตููู ูููุฒ
   - ุฑุณุงูุฉ ูุงุถุญุฉ: "๐ ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ููุงูุถูุงู"

---

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### ููุถูู ุงูุขู:

#### โ ูุง ูุฑุงู:
- ุฒุฑ ุฌููู ุจููู ุจููุณุฌู: "๐ ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ููุงูุถูุงู"
- ูุง ุชูุฌุฏ ุฑุณุงุฆู ุนู ุนุฏู ุงูุชูุงูู
- ูุงุฌูุฉ ูุงุถุญุฉ ููุจุงุดุฑุฉ

#### โ ูุง ูุง ูุฑุงู:
- โ ุฑุณุงุฆู "Gender mismatch"
- โ ุฑุณุงุฆู "Age mismatch"
- โ ุฃู ูุญูุตุงุช ุฃูููุฉ

#### โ ูุง ูุญุฏุซ ุนูุฏ ุงูุถุบุท:
- ุชูุฌูู ูุจุงุดุฑ ูุตูุญุฉ ุงูุชุณุฌูู
- Console: "โ Guests cannot join invitations"

---

## ๐งช ููุงุฎุชุจุงุฑ

### ุงูุณููุงุฑูููุงุช:

1. **โ ุฏุฎูู ูุถูู:**
   ```
   - ุงูุถุบุท ุนูู "ูุชุงุจุนุฉ ูุถูู"
   - ุชุตูุญ ุงูุฏุนูุงุช
   ```

2. **โ ุนุฑุถ ุงูุฏุนูุงุช:**
   ```
   - ุฌููุน ุงูุฏุนูุงุช ุชุธูุฑ ุฒุฑ "๐ ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ููุงูุถูุงู"
   - ูุง ุชูุฌุฏ ุฑุณุงุฆู ุนู ุนุฏู ุงูุชูุงูู
   ```

3. **โ ูุญุงููุฉ ุงูุงูุถูุงู:**
   ```
   - ุงูุถุบุท ุนูู ุงูุฒุฑ
   - ุชูุฌูู ูุตูุญุฉ ุงูุชุณุฌูู
   ```

---

## ๐ ุงูุญูุงูุฉ ุงูุขู

### ุทุจูุงุช ุงูุญูุงูุฉ:

1. **ุงูุจูุงูุงุช:** ุงูุถูู ููุณ ูู `age` ุฃู `gender`
2. **ุงูููุทู:** ุชุฎุทู ูุญุต ุงูุฃูููุฉ ููุถูู
3. **ุงููุงุฌูุฉ:** ุฒุฑ ูุฎุตุต ููุถูู
4. **ุงูุฏูุงู:** ููุน ุชูููุฐ `requestToJoin()` ููุถูู

---

## ๐ ููุงุญุธุงุช ูููุฉ

### ููุงุฐุง `null` ูููุณ ููู ุงูุชุฑุงุถูุฉุ
- `age: null` ุจุฏูุงู ูู `age: 25` โ
- `gender: null` ุจุฏูุงู ูู `gender: 'male'` โ

**ุงูุณุจุจ:**
- ุงูููู ุงูุงูุชุฑุงุถูุฉ ุชูุนุงูู ูุจูุงูุงุช ุญููููุฉ
- `null` ูุนูู "ูุง ุชูุฌุฏ ุจูุงูุงุช" ููู ุงูุตุญูุญ ููุถูู

### ููุงุฐุง `accountType: 'guest'`ุ
- ููุชูููุฒ ุงููุงุถุญ ุจูู ุงูุถูู ูุงููุณุชุฎุฏู
- ุณูููุฉ ุงููุญุต ูู ุฃู ููุงู ุจุงูููุฏ
- ุงุชุณุงู ูุน `isGuest` ูู AuthContext

---

**ุงูุญุงูุฉ:** ููุตูุญ ุฌุฐุฑูุงู โ  
**ุงูุชุงุฑูุฎ:** 2026-02-03  
**ุงููุดุงูู ุงููุญูููุฉ:** 3  
**ุงููููุงุช ุงูููุนุฏููุฉ:** 2
