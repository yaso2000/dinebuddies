# ๐ ุชุญููู ุดุงูู: ุงููุฑู ุจูู ุงููุณุชุฎุฏู ุงูุนุงุฏู ูุงูุดุฑูู

## ๐ฏ ุงูููุฎุต ุงูุชูููุฐู

ูุฐุง ุงูุชุญููู ููุงุฑู ุจูู **ุงููุณุชุฎุฏู ุงูุนุงุฏู (User)** ู**ุงูุดุฑูู ุงูุชุฌุงุฑู (Business Partner)** ูู ุญูุซ:
- ุงูุตูุงุญูุงุช (Permissions)
- ุฅููุงููุฉ ุงููุตูู (Access)
- ุงูููุฒุงุช ุงููุชุงุญุฉ (Features)
- ูุงุฌูุฉ ุงููุณุชุฎุฏู (UI/UX)

---

## ๐ฑ 1. ุงูุชููู ุงูุณููู (Bottom Navigation)

### ุงููุณุชุฎุฏู ุงูุนุงุฏู (User)
```
โ Home (ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ)
โ Invitations (ุงูุฏุนูุงุช)
โ Create Post (ุฅูุดุงุก ููุดูุฑ) - ุฒุฑ FAB ูููุฒ
โ Partners (ุฏููู ุงููุทุงุนู)
โ Communities (ุงููุฌุชูุนุงุช)
```

### ุงูุดุฑูู ุงูุชุฌุงุฑู (Business Partner)
```
โ Home (ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ)
โ Invitations (ุงูุฏุนูุงุช)
โ Create Post (ูุญุธูุฑ)
โ Partners (ุฏููู ุงููุทุงุนู)
โ Business Dashboard (ููุญุฉ ุงูุชุญูู)
โ My Community (ูุฌุชูุน ุงูุดุฑูู)
```

---

## ๐ 2. ุงูุตูุงุญูุงุช ุญุณุจ ุงูุตูุญุฉ

### โ ุงูุตูุญุงุช ุงููุดุชุฑูุฉ (ูููู ููุฌููุน ุงููุตูู)

| ุงูุตูุญุฉ | ุงููุณุงุฑ | ุงููุตู |
|--------|-------|-------|
| ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ | `/` | ุนุฑุถ Posts/Stories |
| ุงูุฏุนูุงุช | `/invitations` | ุนุฑุถ ุงูุฏุนูุงุช |
| ุชูุงุตูู ุงูุฏุนูุฉ | `/invitation/:id` | ูุดุงูุฏุฉ ุฏุนูุฉ ูุญุฏุฏุฉ |
| ุฏููู ุงููุทุงุนู | `/restaurants` | ุชุตูุญ ุงูุดุฑูุงุก |
| ุชูุงุตูู ุงููุทุนู | `/restaurant/:id` | ุตูุญุฉ ุงูุดุฑูู |
| ุงูุฑุณุงุฆู | `/messages` | ูุงุฆูุฉ ุงููุญุงุฏุซุงุช |
| ุงูุดุงุช ุงูุฎุงุต | `/chat/:userId` | ูุญุงุฏุซุฉ ุฎุงุตุฉ |
| ุงูุดุงุช ุงูุฌูุงุนู | `/group/:conversationId` | ูุญุงุฏุซุฉ ุฌูุงุนูุฉ |
| ุงูุฅุดุนุงุฑุงุช | `/notifications` | ุงูุฅุดุนุงุฑุงุช |
| ุงูููู ุงูุดุฎุตู | `/profile` | ูููู ุงูุดุฎุตู |
| ููู ูุณุชุฎุฏู | `/profile/:userId` | ููู ูุณุชุฎุฏู ุขุฎุฑ |
| ุงูุฅุนุฏุงุฏุงุช | `/settings/*` | ุฌููุน ุฅุนุฏุงุฏุงุช ุงูุญุณุงุจ |
| ุงูุฃุณุนุงุฑ | `/pricing` | ุตูุญุฉ ุงูุจุงูุงุช |

### ๐ข ุตูุญุงุช ุงููุณุชุฎุฏู ุงูุนุงุฏู ููุท

| ุงูุตูุญุฉ | ุงููุณุงุฑ | ุงูุญูุงูุฉ | ุงููุตู |
|--------|-------|---------|-------|
| ุฅูุดุงุก ุฏุนูุฉ | `/create` | `RegularUserRoute` | ุฅูุดุงุก ุฏุนูุฉ ุฌุฏูุฏุฉ |
| ุฅูุดุงุก ููุดูุฑ | `/create-post` | `RegularUserRoute` | ุฅูุดุงุก Post/Story |
| ุงููุฌุชูุนุงุช | `/communities` | UI Hidden | ุงูุงูุถูุงู ูููุฌุชูุนุงุช |
| ุดุงุช ูุฌุชูุน | `/community/:id` | - | ุงูุดุงุช ุงูุฌูุงุนู |

### ๐ต ุตูุญุงุช ุงูุดุฑูู ุงูุชุฌุงุฑู ููุท

| ุงูุตูุญุฉ | ุงููุณุงุฑ | ุงูุญูุงูุฉ | ุงููุตู |
|--------|-------|---------|-------|
| ููุญุฉ ุงูุชุญูู | `/business-dashboard` | UI Only | ุฅุญุตุงุฆูุงุช ููุชุงุจุนุฉ |
| ุชุนุฏูู ุงูุจุฑููุงูู | `/edit-business-profile` | - | ุชุญุฏูุซ ุจูุงูุงุช ุงูุดุฑูุฉ |
| ูุฌุชูุน ุงูุดุฑูู | `/my-community` | UI Only | ุฅุฏุงุฑุฉ ูุฌุชูุน ุงููุทุนู |

### ๐ด ุตูุญุงุช ุงูุฃุฏูู ููุท

| ุงูุตูุญุฉ | ุงููุณุงุฑ | ุงูุญูุงูุฉ | ุงููุตู |
|--------|-------|---------|-------|
| Admin Dashboard | `/admin/dashboard` | `AdminRoute` | ููุญุฉ ุงูุชุญูู ุงูุฅุฏุงุฑูุฉ |
| ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู | `/admin/users` | `AdminRoute` | ุชุนุฏูู/ุญุธุฑ ูุณุชุฎุฏููู |
| ุฅุฏุงุฑุฉ ุงูุจุงูุงุช | `/admin/plans` | `AdminRoute` | ุชุนุฏูู ุงูุจุงูุงุช |
| ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช | `/admin/subscriptions` | `AdminRoute` | ูุชุงุจุนุฉ ุงููุฏููุนุงุช |
| ุฅุฏุงุฑุฉ ุงูุดุฑูุงุก | `/admin/partners` | `AdminRoute` | ูุฑุงุฌุนุฉ ุงูุดุฑูุงุก |
| ุงูุชูุงุฑูุฑ | `/admin/reports` | `AdminRoute` | ุงูุชูุงุฑูุฑ ูุงูุชุญูููุงุช |

---

## ๐จ 3. ุงููุฑููุงุช ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู

### Header (ุงูุนููู)

| ุงูุนูุตุฑ | ุงููุณุชุฎุฏู | ุงูุดุฑูู |
|--------|----------|--------|
| Logo | โ | โ |
| Notifications | โ | โ |
| Messages | โ | โ |
| Profile Picture Click | โ `/profile` | โ `/business-dashboard` |

### ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (Home = PostsFeed)

| ุงูููุฒุฉ | ุงููุณุชุฎุฏู | ุงูุดุฑูู |
|--------|----------|--------|
| ุนุฑุถ Posts | โ | โ |
| ุนุฑุถ Stories | โ | โ |
| ุฅูุดุงุก Post | โ (FAB Button) | โ |
| ุฅูุดุงุก Story | โ | โ (ุบูุฑ ูุญุฏุฏ) |
| ุงูุชูุงุนู (Like/Comment) | โ | โ |

---

## โ๏ธ 4. ุงูููุฒุงุช ุงููุธูููุฉ

### ุฅูุดุงุก ุงููุญุชูู

| ุงูููุฒุฉ | ุงููุณุชุฎุฏู | ุงูุดุฑูู | ููุงุญุธุงุช |
|--------|----------|--------|---------|
| ุฅูุดุงุก ุฏุนูุฉ | โ | โ | ูุญุธูุฑ ุจู `RegularUserRoute` |
| ุฅูุดุงุก Post | โ | โ | ูุญุธูุฑ ุจู `RegularUserRoute` |
| ุฅูุดุงุก Story | โ | โ | ุบูุฑ ูุงุถุญ |
| Special Offers | โ | โ | ููุฒุฉ ุงูุดุฑูุงุก ููุท |

### ุงูุชูุงุนู ุงูุงุฌุชูุงุนู

| ุงูููุฒุฉ | ุงููุณุชุฎุฏู | ุงูุดุฑูู |
|--------|----------|--------|
| ุทูุจ ุงูุถูุงู ูุฏุนูุฉ | โ | โ |
| ุงูุดุงุช ุงูุฎุงุต | โ | โ |
| ุงูุดุงุช ุงูุฌูุงุนู | โ | โ |
| ูุชุงุจุนุฉ ูุณุชุฎุฏููู | โ | โ |
| ุงูุงูุถูุงู ููุฌุชูุนุงุช | โ | โ (ูู ูุฌุชูุนู ุงูุฎุงุต) |

### ุฅุฏุงุฑุฉ ุงูุฃุนูุงู (ุงูุดุฑูู ููุท)

| ุงูููุฒุฉ | ุงููุณุชุฎุฏู | ุงูุดุฑูู |
|--------|----------|--------|
| ุฅุญุตุงุฆูุงุช ุงููุทุนู | โ | โ |
| Special Offers | โ | โ |
| ุฅุฏุงุฑุฉ ุงูุจุฑููุงูู ุงูุชุฌุงุฑู | โ | โ |
| ูุฌุชูุน ุฎุงุต | โ | โ |
| ุงุณุชูุจุงู ุงูุญุฌูุฒุงุช | โ | โ (ุชููุงุฆู) |
| ุงูุชููููุงุช ูุงููุฑุงุฌุนุงุช | โ | โ (ุงุณุชูุจุงู ููุท) |

---

## ๐ซ 5. ุงููููุฏ ูุงูุญุธุฑ

### ุงููุณุชุฎุฏู ุงูุนุงุฏู

```javascript
โ ูุง ููููู ุงููุตูู ุฅูู:
- /business-dashboard
- /my-community (ูู owner)
- /edit-business-profile
- ุฅูุดุงุก Special Offers
```

### ุงูุดุฑูู ุงูุชุฌุงุฑู

```javascript
โ ูุง ููููู ุงููุตูู ุฅูู:
- /create (ุฅูุดุงุก ุฏุนูุฉ)
- /create-post (ุฅูุดุงุก ููุดูุฑ)
- /communities (ุงูุงูุถูุงู ููุฌุชูุนุงุช)
- ุฒุฑ FAB ูู ุงูู Bottom Nav
```

**ุงูุญูุงูุฉ ุชุชู ุนุจุฑ:**
- `RegularUserRoute` Component โ ูููุน Business ูู `/create` ู `/create-post`
- UI Conditional Rendering โ ูุฎูู ุนูุงุตุฑ ูุนููุฉ

---

## ๐ 6. ุชุฏูู ุงูุชุณุฌูู ูุงูุชุญููู

### ุงูุชุณุฌูู ููุณุชุฎุฏู ุนุงุฏู
```
QuickLogin โ AuthContext โ accountType: 'user' โ User Experience
```

### ุงูุชุณุฌูู ูุดุฑูู ุชุฌุงุฑู
```
BusinessSignup โ AuthContext โ accountType: 'business' โ Partner Experience
```

### ุงูุชุญููู ูู User โ Business
```
Settings/Profile โ "ุชุญููู ุฅูู ุดุฑูู" โ businessInfo added โ UI Switch
```

**ููุงุญุธุฉ ูุงูุฉ:** ูุง ููุฌุฏ ุญุงููุงู ุขููุฉ ุชุญููู ูุงุถุญุฉ ูู ุงูููุฏ!

---

## ๐ 7. ุงูุจูุงูุงุช ูู Firestore

### User Document (users/{uid})
```javascript
{
  accountType: 'user',
  display_name: string,
  email: string,
  photo_url: string,
  bio: string,
  following: [userId1, userId2],
  followersCount: number,
  reputation: number,
  joinedCommunities: [communityId1, ...],
  // NO businessInfo
}
```

### Partner Document (users/{uid})
```javascript
{
  accountType: 'business',
  display_name: string,
  email: string,
  photo_url: string,
  // PLUS:
  businessInfo: {
    businessName: string,
    businessType: string,
    coverImage: string,
    logoImage: string,
    description: string,
    address: string,
    city: string,
    phone: string,
    lat: number,
    lng: number,
    placeId: string,
    isPublished: boolean,
    // Special Offers
    specialOffer: {...}
  },
  // Community Management
  ownedCommunities: [communityId],
  // NO joining other communities
}
```

---

## โ๏ธ 8. ุงููุดุงูู ูุงููุฌูุงุช ุงูุญุงููุฉ

### 1. **ุญุธุฑ ุบูุฑ ูุงูู**
- ุงูุดุฑูู ูุง ููููุน ูู `/communities` ุจู Route Guardุ ููุท UI
- ูููู ููุดุฑูู ุงููุตูู ูุฏููุงู ุนุจุฑ URL

### 2. **ุนุฏู ูุถูุญ ุงูููุงุนุฏ**
- ูู ูููู ููุดุฑูู ุงูุงูุถูุงู ูุฏุนูุฉุ โ (ุญุงููุงู ูุนู)
- ูู ูููู ููุดุฑูู ุฅูุดุงุก Storyุ โ (ุบูุฑ ูุงุถุญ)

### 3. **ูุง ููุฌุฏ ูุธุงู ุชุญููู**
- ูุง ุชูุฌุฏ ุขููุฉ ูุงุถุญุฉ ูุชุญููู User โ Business
- ุงูุชุญููู ูุชุทูุจ ุชุญุฏูุซ `accountType` + ุฅุถุงูุฉ `businessInfo`

### 4. **Firestore Rules ุบูุฑ ูุชูุงุณูุฉุ**
- ูุฌุจ ุงูุชุญูู ูู Security Rules ูุถูุงู ุนุฏู ุชุณุฑูุจ ุงูุจูุงูุงุช

---

## โ 9. ุงูุชูุตูุงุช

### ุฃ. ุชุญุณูู ุงูุญูุงูุฉ (Security)
```javascript
// ุฅุถุงูุฉ BusinessBlockedRoute
<Route path="/create" element={
  <BusinessBlockedRoute>
    <CreateInvitation />
  </BusinessBlockedRoute>
} />

// ูู BusinessBlockedRoute.jsx:
if (userProfile?.accountType === 'business') {
  return <Navigate to="/" replace />;
}
```

### ุจ. ุชูุถูุญ ุงูููุงุนุฏ
- **ุชูุซูู ูุงุถุญ** ููุง ูููู/ูุง ูููู ููุดุฑูู ูุนูู
- ุนุฑุถ ุฑุณุงูุฉ ุชูุถูุญูุฉ ุนูุฏ ูุญุงููุฉ ุงููุตูู ูุตูุญุฉ ูุญุธูุฑุฉ

### ุฌ. ูุธุงู ุชุญููู ูุญูู
```javascript
// ูู Profile Settings
const convertToBusiness = async () => {
  await updateUserProfile({
    accountType: 'business',
    businessInfo: {...initialBusinessData}
  });
  navigate('/edit-business-profile');
};
```

### ุฏ. Firestore Security Rules
```javascript
// ูู firestore.rules
match /invitations/{invitationId} {
  allow create: if request.auth != null 
                && get(/databases/$(database)/documents/users/$(request.auth.uid)).data.accountType != 'business';
}
```

---

## ๐ 10. ุฌุฏูู ุงูููุงุฑูุฉ ุงูุดุงูู

| ุงูููุฒุฉ/ุงูุตูุญุฉ | ูุณุชุฎุฏู ุนุงุฏู | ุดุฑูู ุชุฌุงุฑู | ุฃุฏูู | ุถูู |
|--------------|-------------|-------------|------|------|
| **ุงูุชููู ูุงููุตูู** |
| ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ | โ | โ | โ | โ |
| ุงูุฏุนูุงุช | โ | โ | โ | โ (ูุฑุงุกุฉ ููุท) |
| ุงูุฑุณุงุฆู | โ | โ | โ | โ |
| ุงูุฅุดุนุงุฑุงุช | โ | โ | โ | โ |
| ุฏููู ุงููุทุงุนู | โ | โ | โ | โ |
| **ุฅูุดุงุก ุงููุญุชูู** |
| ุฅูุดุงุก ุฏุนูุฉ | โ | โ | โ | โ |
| ุฅูุดุงุก Post | โ | โ | โ | โ |
| ุฅูุดุงุก Story | โ | โ | โ | โ |
| Special Offers | โ | โ | โ | โ |
| **ุงูุชูุงุนู** |
| ุทูุจ ุงูุถูุงู | โ | โ | โ | โ |
| Like/Comment | โ | โ | โ | โ |
| Follow/Unfollow | โ | โ | โ | โ |
| Chat 1-on-1 | โ | โ | โ | โ |
| Chat Groups | โ | โ | โ | โ |
| **ุงููุฌุชูุนุงุช** |
| ุงูุงูุถูุงู ููุฌุชูุนุงุช | โ | โ | โ | โ |
| ุฅูุดุงุก ูุฌุชูุน | โ | โ (ุชููุงุฆู) | โ | โ |
| ุฅุฏุงุฑุฉ ูุฌุชูุน | โ | โ | โ | โ |
| **ุงูุฅุฏุงุฑุฉ** |
| Business Dashboard | โ | โ | โ | โ |
| Edit Business Profile | โ | โ | โ | โ |
| Admin Panel | โ | โ | โ | โ |

---

## ๐ฏ 11. ุฎูุงุตุฉ ุงูุนูุงูุฉ

### ุงููุณุชุฎุฏู ุงูุนุงุฏู (User)
```
๐ฏ ุงููุฏู: ุงูุชูุงุตู ุงูุงุฌุชูุงุนู ูุงูุงูุถูุงู ููุฏุนูุงุช
โ ูุฑูุฒ ุนูู: Posts, Invitations, Communities
โ ูุง ููููู: ุฅุฏุงุฑุฉ ุฃุนูุงู ุชุฌุงุฑูุฉ
```

### ุงูุดุฑูู ุงูุชุฌุงุฑู (Business)
```
๐ฏ ุงููุฏู: ุงูุชุฑููุฌ ูููุทุนู ูุงุณุชูุจุงู ุงูุญุฌูุฒุงุช
โ ูุฑูุฒ ุนูู: Dashboard, Special Offers, My Community
โ ูุง ููููู: ุฅูุดุงุก ุฏุนูุงุช ุฃู Posts ุนุงุฏูุฉ
```

### ุงูุชูุงูู
```
1. ุงููุณุชุฎุฏู ูุชุตูุญ ุงูุดุฑูุงุก ูู /restaurants
2. ุงููุณุชุฎุฏู ูุญุฌุฒ ุทุงููุฉ (invitation) ูู ูุทุนู ุดุฑูู
3. ุงูุดุฑูู ูุณุชูุจู ุฅุดุนุงุฑ ุจุงูุญุฌุฒ
4. ุงูุดุฑูู ูุชูุงุตู ูุน ุงูุนููุงุก ุนุจุฑ Chat
5. ุงููุณุชุฎุฏู ูุชุฑู ุชูููู ุนูู ุตูุญุฉ ุงูุดุฑูู
```

---

## ๐ ููุงุญุธุงุช ููุงุฆูุฉ

1. **ุงููุธุงู ุงูุญุงูู ูุงุถุญ ูุณุจูุงู** ููู ูุญุชุงุฌ ุชุญุณููุงุช ูู ุงูุญูุงูุฉ
2. **UI-based blocking** ุฌูุฏ ููู ูุฌุจ ุฏุนูู ุจู **Route Guards**
3. **ูุง ููุฌุฏ ูุธุงู ุชุญููู ูุงุถุญ** ูู User โ Business
4. **Firestore Rules** ูุฌุจ ูุฑุงุฌุนุชูุง ูุถูุงู ุงูุฃูุงู
5. **ุงููุตุฉ ุงููุงููุฉ ููุชูุงุนู** ุจูู User/Partner ูุงุถุญุฉ ูุฌูุฏุฉ

---

**ุชุงุฑูุฎ ุงูุชุญููู:** 2026-02-12  
**ุงูุญุงูุฉ:** ุดุงูู โ  
**ุงูุชูุตูุฉ ุงูุชุงููุฉ:** ูุฑุงุฌุนุฉ Firestore Security Rules + ุฅุถุงูุฉ Route Guards
