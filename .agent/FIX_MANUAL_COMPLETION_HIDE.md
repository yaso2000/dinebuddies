# ๐ง ุฅุตูุงุญ: ุฅุฎูุงุก ุงูุฏุนูุงุช ุงูููุชููุฉ ูุฏููุงู

## โ ุงููุดููุฉ:

ุนูุฏ ุฅููุงุก ุงูุฏุนูุฉ ูุฏููุงู (ูุจู ููุนุฏูุง ุงููุฌุฏูู)ุ ุชุธู ุงูุฏุนูุฉ ุธุงูุฑุฉ ุญุชู ูุญูู ููุนุฏูุง ุงูุฃุตูู!

### ูุซุงู:
```
ุงูุฏุนูุฉ ุงููุฌุฏููุฉ: 2026-02-05 ุงูุณุงุนุฉ 20:00
ุงูุฅููุงุก ุงููุฏูู: 2026-02-03 ุงูุณุงุนุฉ 16:00

ุงููุดููุฉ: ุงูุฏุนูุฉ ุชุธู ุธุงูุฑุฉ ุญุชู 2026-02-05 21:00!
ุงููุทููุจ: ุฅุฎูุงุก ุงูุฏุนูุฉ ูู 2026-02-03 17:00 (ุณุงุนุฉ ุจุนุฏ ุงูุฅููุงุก)
```

---

## ๐ ุงูุณุจุจ:

ูู ููู `Home.jsx` (ุงูุณุทุฑ 97-113):

```javascript
// ุงูููุฏ ุงูุญุงูู (ุฎุงุทุฆ):
if (inv.meetingStatus === 'completed' && inv.completedAt) {
    // ุฅุฎูุงุก ุจุนุฏ ุณุงุนุฉ ูู ุงูุฅููุงุก
    if (now > oneHourAfterCompletion) return false;
}
// ุฅุฐุง ูู ููู completedุ ุชุญูู ูู ุงูุชุงุฑูุฎ ุงููุฌุฏูู
else {
    if (now > expiry) return false;
}
```

**ุงููุดููุฉ:** ุงูู `else` ูุนูู ุฃูู ุฅุฐุง ูุงูุช completedุ ูู ูุชุญูู ูู ุงูุชุงุฑูุฎ ุงููุฌุฏูู!

---

## โ ุงูุญู:

### ูู `Home.jsx` (ุงูุณุทุฑ 97-113):

ุงุณุชุจุฏู ุงูููุฏ ุจู:

```javascript
// 2. AUTO-CLOSE LOGIC
// Priority 1: If manually completed, hide after 1 hour from completion
if (inv.meetingStatus === 'completed' && inv.completedAt) {
    const completedTime = inv.completedAt.toDate ? inv.completedAt.toDate() : new Date(inv.completedAt);
    const oneHourAfterCompletion = new Date(completedTime.getTime() + 60 * 60 * 1000); // +1 hour
    if (now > oneHourAfterCompletion) return false;
    // If completed but within 1 hour, show it (with special styling)
    return true; // โ ูุฐุง ุงูุณุทุฑ ููู!
}

// Priority 2: For non-completed invitations, hide 1 hour after scheduled time
const inviteDate = new Date(inv.date || now);
if (!isNaN(inviteDate.getTime())) {
    const [hours, minutes] = (inv.time || "20:30").split(':');
    inviteDate.setHours(parseInt(hours) || 0, parseInt(minutes) || 0, 0);
    const expiry = new Date(inviteDate.getTime() + 60 * 60 * 1000);
    if (now > expiry) return false;
}
```

---

## ๐ฏ ุงูููุทู ุงูุฌุฏูุฏ:

### ุงูุฃููููุฉ 1: ุงูุฅููุงุก ุงููุฏูู
```
ุฅุฐุง ูุงูุช meetingStatus === 'completed':
  โ
  ุฅุฐุง ูุฑ ุฃูุซุฑ ูู ุณุงุนุฉ ูู completedAt:
    โ ุฅุฎูุงุก ุงูุฏุนูุฉ โ
  ูุฅูุง:
    โ ุฅุธูุงุฑ ุงูุฏุนูุฉ (ูุน ุนูุงูุฉ "ููุชููุฉ") โ
    โ return true (ุชููู ููุงุ ูุง ุชุชุญูู ูู ุงูุชุงุฑูุฎ ุงููุฌุฏูู)
```

### ุงูุฃููููุฉ 2: ุงูุชุงุฑูุฎ ุงููุฌุฏูู
```
ุฅุฐุง ูู ุชูู completed:
  โ
  ุฅุฐุง ูุฑ ุฃูุซุฑ ูู ุณุงุนุฉ ูู ุงูููุนุฏ ุงููุฌุฏูู:
    โ ุฅุฎูุงุก ุงูุฏุนูุฉ โ
  ูุฅูุง:
    โ ุฅุธูุงุฑ ุงูุฏุนูุฉ โ
```

---

## ๐ ุฃูุซูุฉ:

### ูุซุงู 1: ุฅููุงุก ูุฏูู ูุจู ุงูููุนุฏ
```
ุงูุฏุนูุฉ: 2026-02-05 20:00
ุงูุฅููุงุก: 2026-02-03 16:00

ุงูุขู: 2026-02-03 16:30
ุงููุชูุฌุฉ: โ ุชุธูุฑ (ูุน ุนูุงูุฉ "ููุชููุฉ")

ุงูุขู: 2026-02-03 17:01
ุงููุชูุฌุฉ: โ ูุฎููุฉ (ูุฑ ุฃูุซุฑ ูู ุณุงุนุฉ)
```

### ูุซุงู 2: ุฏุนูุฉ ุนุงุฏูุฉ (ุจุฏูู ุฅููุงุก ูุฏูู)
```
ุงูุฏุนูุฉ: 2026-02-05 20:00

ุงูุขู: 2026-02-05 20:30
ุงููุชูุฌุฉ: โ ุชุธูุฑ

ุงูุขู: 2026-02-05 21:01
ุงููุชูุฌุฉ: โ ูุฎููุฉ (ูุฑ ุฃูุซุฑ ูู ุณุงุนุฉ)
```

### ูุซุงู 3: ุฅููุงุก ูุฏูู ุจุนุฏ ุงูููุนุฏ
```
ุงูุฏุนูุฉ: 2026-02-05 20:00
ุงูุฅููุงุก: 2026-02-05 22:00 (ุจุนุฏ ุงูููุนุฏ)

ุงูุขู: 2026-02-05 22:30
ุงููุชูุฌุฉ: โ ุชุธูุฑ (ูุน ุนูุงูุฉ "ููุชููุฉ")

ุงูุขู: 2026-02-05 23:01
ุงููุชูุฌุฉ: โ ูุฎููุฉ
```

---

## ๐จ ุชุญุณูู ุฅุถุงูู (ุงุฎุชูุงุฑู):

### ุฅุถุงูุฉ ุนูุงูุฉ "ููุชููุฉ" ููุฏุนูุงุช ุงูููุชููุฉ:

ูู `InvitationCard.jsx`:

```jsx
{invitation.meetingStatus === 'completed' && (
    <div className="completed-badge" style={{
        position: 'absolute',
        top: '10px',
        right: '10px',
        background: 'rgba(16, 185, 129, 0.9)',
        color: 'white',
        padding: '5px 12px',
        borderRadius: '20px',
        fontSize: '0.75rem',
        fontWeight: '700',
        backdropFilter: 'blur(10px)'
    }}>
        โ {t('completed')}
    </div>
)}
```

---

## ๐ ููุฎุต ุงูุชุบููุฑุงุช:

### ูุจู:
```javascript
if (completed) {
    // check completion time
} else {
    // check scheduled time
}
```

### ุจุนุฏ:
```javascript
if (completed) {
    // check completion time
    return true; // โ ุชููู ููุง!
}
// check scheduled time (ููุฏุนูุงุช ุบูุฑ ุงูููุชููุฉ ููุท)
```

---

## ๐ ููุชุทุจูู:

1. ุงูุชุญ `src/pages/Home.jsx`
2. ุงุฐูุจ ุฅูู ุงูุณุทุฑ 97-113
3. ุงุณุชุจุฏู ุงูููุฏ ุจุงูููุฏ ุงูุฌุฏูุฏ ุฃุนูุงู
4. ุงุญูุธ ุงูููู
5. ุญุฏูุซ ุงูุตูุญุฉ

---

**ุงูุญุงูุฉ:** ุฌุงูุฒ ููุชุทุจูู โ  
**ุงูุชุงุฑูุฎ:** 2026-02-03  
**ุงูููู:** `src/pages/Home.jsx`
