# โ ุงูุดุงุช ุงูุฌูุงุนู ุงููุฏูุฌ - ุชู ุงูุชูููุฐ ุจูุฌุงุญ!

## ๐ ูุง ุชู ุฅูุฌุงุฒู

ุชู ุชูููุฐ **ุดุงุช ุฌูุงุนู ูุฏูุฌ** ูู ุตูุญุฉ ุชูุงุตูู ุงูุฏุนูุฉ ุจูุฌุงุญ!

---

## ๐ ุงูุชูุงุตูู ุงูุชูููุฉ

### 1. **ุชุฎุฒูู ุงูุฑุณุงุฆู**
```
invitations/{invitationId}/messages
```

ูู ุฑุณุงูุฉ ุชุญุชูู ุนูู:
- `text`: ูุต ุงูุฑุณุงูุฉ
- `senderId`: ูุนุฑู ุงููุฑุณู
- `senderName`: ุงุณู ุงููุฑุณู
- `senderAvatar`: ุตูุฑุฉ ุงููุฑุณู
- `createdAt`: ููุช ุงูุฅุฑุณุงู (serverTimestamp)

### 2. **Real-time Sync**
- ุงุณุชุฎุฏุงู `onSnapshot` ูู Firestore
- ุงูุฑุณุงุฆู ุชุธูุฑ ููุฑุงู ูุฌููุน ุงูุฃุนุถุงุก
- ุชุฑุชูุจ ุชููุงุฆู ุญุณุจ `createdAt`

### 3. **ุงููุตูู**
ููุท:
- **ุงููุถูู** (ุตุงุญุจ ุงูุฏุนูุฉ)
- **ุงูุฃุนุถุงุก ุงูููุจูููู** (ูู ูุงุฆูุฉ `joined`)

### 4. **ุงููููุงุช ุงููุนุฏูุฉ**

#### โ `src/pages/InvitationDetails.jsx`
- ุฅุถุงูุฉ `groupChatMessages` state
- ุฅุถุงูุฉ Firestore imports
- ุฅุถุงูุฉ useEffect ููุงุณุชูุงุน ููุฑุณุงุฆู
- ุฅุถุงูุฉ `handleSendGroupMessage` function
- ุฅุถุงูุฉ UI ุงูุดุงุช ุงููุงูู

#### โ `src/locales/en.json`
- `group_chat`: "Group Chat"
- `no_messages_yet`: "No messages yet. Start the conversation!"
- `type_message`: "Type a message..."

#### โ `src/locales/ar.json`
- `group_chat`: "ุงูุดุงุช ุงูุฌูุงุนู"
- `no_messages_yet`: "ูุง ุชูุฌุฏ ุฑุณุงุฆู ุจุนุฏ. ุงุจุฏุฃ ุงููุญุงุฏุซุฉ!"
- `type_message`: "ุงูุชุจ ุฑุณุงูุฉ..."

---

## ๐จ ุงููููุฒุงุช

### 1. **ุชุตููู ุนุตุฑู**
- ุฑุณุงุฆู ุจููุงุนุงุช (bubbles)
- ุฑุณุงุฆูู ุนูู ุงููููู (ุจููุณุฌู)
- ุฑุณุงุฆู ุงูุขุฎุฑูู ุนูู ุงููุณุงุฑ (ุฑูุงุฏู)
- ุตูุฑุฉ ูุงุณู ุงููุฑุณู ููู ุฑุณุงูุฉ

### 2. **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ**
- Scroll ุชููุงุฆู ููุฑุณุงุฆู ุงูุฌุฏูุฏุฉ
- ุนุฑุถ ููุช ูู ุฑุณุงูุฉ
- ุฒุฑ ุฅุฑุณุงู ุฏุงุฆุฑู ุฌููู
- ุญูู ุฅุฏุฎุงู ูุน placeholder

### 3. **ุญุงูุฉ ูุงุฑุบุฉ**
ุนูุฏ ุนุฏู ูุฌูุฏ ุฑุณุงุฆู:
- ุฃููููุฉ ๐ฌ ูุจูุฑุฉ
- ุฑุณุงูุฉ ุชุดุฌูุนูุฉ: "ุงุจุฏุฃ ุงููุญุงุฏุซุฉ!"

---

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### ุงูุฎุทูุงุช:

1. **ุฃูุดุฆ ุฏุนูุฉ** ููุณุชุฎุฏู (ูุซูุงู: ูุงุฒู)
2. **ุงุทูุจ ุงูุงูุถูุงู** ููุณุชุฎุฏู ุขุฎุฑ (ูุซูุงู: ุนูู)
3. **ูุงูู ุนูู ุงูุทูุจ** (ูู ูุงุฒู)
4. **ุงูุชุญ ุตูุญุฉ ุงูุฏุนูุฉ** (ูู ูุงุฒู ุฃู ุนูู)
5. **ุงุจุญุซ ุนู ูุณู "ุงูุดุงุช ุงูุฌูุงุนู"** ๐ฌ
6. **ุฃุฑุณู ุฑุณุงูุฉ** ูู ูุงุฒู
7. **ุงูุชุญ ููุณ ุงูุตูุญุฉ** ูู ุนูู
8. **ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ ูุงุฒู ููุฑุงู!** โ
9. **ุฃุฑุณู ุฑุณุงูุฉ** ูู ุนูู
10. **ูุฌุจ ุฃู ูุฑู ูุงุฒู ุงูุฑุณุงูุฉ ููุฑุงู!** โ

---

## โจ ุงููุฑู ุนู ุงููุญุงููุฉ ุงูุณุงุจูุฉ

### ุงููุดููุฉ ุงูุณุงุจูุฉ โ
- ูุงู ููุงู ูุธุงูุงู ููุดุงุช (ุซูุงุฆู + ุฌูุงุนู)
- ุงูุฑุณุงุฆู ูุงูุช ุชูุฎุฒู ูู `conversations` collection
- ูู ุดุฎุต ูุงู ูุฑู ูุญุงุฏุซุฉ ุซูุงุฆูุฉ ูููุตูุฉ

### ุงูุญู ุงูุฌุฏูุฏ โ
- ุดุงุช ูุงุญุฏ ููุท ููู ุฏุนูุฉ
- ุงูุฑุณุงุฆู ุชูุฎุฒู ูู subcollection ุฏุงุฎู ุงูุฏุนูุฉ ููุณูุง
- **ุฌููุน ุงูุฃุนุถุงุก ูุฑูู ููุณ ุงูุฑุณุงุฆู**
- Real-time sync ุชููุงุฆู

---

## ๐ ููุงุญุธุงุช ูููุฉ

### โ๏ธ Firestore Rules
ุชุฃูุฏ ูู ุฅุถุงูุฉ ููุงุนุฏ ุงูุฃูุงู ูู `firestore.rules`:

```javascript
// Allow read/write to invitation messages for host and members
match /invitations/{invitationId}/messages/{messageId} {
  allow read: if request.auth != null && 
    (get(/databases/$(database)/documents/invitations/$(invitationId)).data.author.id == request.auth.uid ||
     request.auth.uid in get(/databases/$(database)/documents/invitations/$(invitationId)).data.joined);
     
  allow create: if request.auth != null && 
    (get(/databases/$(database)/documents/invitations/$(invitationId)).data.author.id == request.auth.uid ||
     request.auth.uid in get(/databases/$(database)/documents/invitations/$(invitationId)).data.joined) &&
    request.resource.data.senderId == request.auth.uid;
}
```

### ๐ ุงูุฃูุงู
- ููุท ุงููุถูู ูุงูุฃุนุถุงุก ุงูููุจูููู ูููููู ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ
- ูุฌุจ ุฃู ูููู `senderId` ูุทุงุจู ูู `request.auth.uid`

---

## ๐ ุงูุฎุทูุฉ ุงูุชุงููุฉ

ุงูุชุทุจูู ุฌุงูุฒ ููุงุฎุชุจุงุฑ! 

**ุดุบูู ุงูุชุทุจูู ูุฌุฑุจ ุงูุดุงุช ุงูุฌูุงุนู ุงูุขู!** ๐

```bash
npm run dev
```

---

**ุชู ุจูุฌุงุญ! ุงูุดุงุช ุงูุฌูุงุนู ูุนูู ุงูุขู ุจุดูู ุตุญูุญ!** โ
